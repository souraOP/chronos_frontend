<div class="min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 flex items-center justify-center p-4">
  <div class="w-full max-w-md">
    <div class="bg-white/90 backdrop-blur-xl border border-slate-200 rounded-2xl shadow-xl ring-1 ring-slate-100 p-8 md:p-10">
      <div class="flex flex-col items-center text-center">
        <div class="h-16 w-16 rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 text-white grid place-items-center shadow-lg">
          <span class="text-2xl">üîê</span>
        </div>

        <h2 class="mt-5 text-2xl md:text-3xl font-extrabold tracking-tight text-slate-900">
          Change Your Password
        </h2>
        <p class="mt-2 text-sm md:text-base text-slate-600">
          Enter your new password and confirm to update your account.
        </p>
      </div>

      <form
        [formGroup]="changePasswordForm"
        (ngSubmit)="onClickChangePasswordSubmit()"
        class="mt-8 space-y-6"
        novalidate
      >
        <div>
          <label for="newpassword" class="block text-sm font-medium text-slate-700 mb-2">
            New Password <span class="text-red-500">*</span>
          </label>

          <input
            id="newpassword"
            type="password"
            formControlName="newPassword"
            placeholder="Enter new password"
            required
            class="w-full rounded-xl border border-slate-300 bg-white px-4 py-3 text-sm text-slate-900 placeholder-slate-400 shadow-sm focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition"
            [ngClass]="{
              'border-red-400 focus:border-red-500 focus:ring-red-100':
                changePasswordForm.get('newPassword')?.invalid &&
                (changePasswordForm.get('newPassword')?.touched || changePasswordForm.get('newPassword')?.dirty),
              'border-green-400 focus:border-green-500 focus:ring-green-100':
                changePasswordForm.get('newPassword')?.valid
            }"
          />

          <div
            class="mt-2 text-sm text-red-600"
            *ngIf="
              changePasswordForm.get('newPassword')?.hasError('minlength') &&
              (changePasswordForm.get('newPassword')?.touched || changePasswordForm.get('newPassword')?.dirty)
            "
          >
            Password must be at least 8 characters long.
          </div>
        </div>


        <div>
          <label for="confirmPassword" class="block text-sm font-medium text-slate-700 mb-2">
            Re-enter New Password <span class="text-red-500">*</span>
          </label>

          <input
            id="confirmPassword"
            type="password"
            formControlName="confirmPassword"
            placeholder="Re-enter new password"
            required
            class="w-full rounded-xl border border-slate-300 bg-white px-4 py-3 text-sm text-slate-900 placeholder-slate-400 shadow-sm focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition"
            [ngClass]="{
              'border-red-400 focus:border-red-500 focus:ring-red-100': changePasswordForm.hasError('matchPassword') && changePasswordForm.get('confirmPassword')?.touched,
              'border-green-400 focus:border-green-500 focus:ring-green-100': !changePasswordForm.hasError('matchPassword') && changePasswordForm.get('confirmPassword')?.touched
            }"
          />

          @if(changePasswordForm.hasError('matchPassword') && changePasswordForm.get('confirmPassword')?.touched){
            <div class="mt-2 text-sm text-red-600">Passwords do not match.</div>
          } @else if (!changePasswordForm.hasError('matchPassword') && changePasswordForm.get('confirmPassword')?.touched) {
            <div class="mt-2 text-sm text-green-700">Passwords match.</div>
          }
        </div>

        <div class="rounded-xl bg-slate-50 border border-slate-200 p-3 text-xs text-slate-600">
          Tip: Use at least 8 characters. Combine letters, numbers, and symbols for a stronger password.
        </div>


        <div class="flex items-center justify-center">
          <button
            type="submit"
            [disabled]="!changePasswordForm.valid || isLoading"
            class="w-full inline-flex items-center justify-center gap-2 rounded-xl bg-blue-600 text-white font-semibold py-3 shadow-lg shadow-blue-600/20 hover:bg-blue-700 active:bg-blue-800 disabled:bg-slate-300 disabled:text-slate-600 disabled:shadow-none transition"
          >
            {{ isLoading ? 'Submitting...' : 'Submit' }}
          </button>
        </div>
      </form>
    </div>
  </div>
</div>