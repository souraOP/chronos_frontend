<div
  class="min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 flex items-center justify-center p-4"
>
  <div class="w-full max-w-md">
    <div
      class="bg-white/90 backdrop-blur-xl border border-slate-200 rounded-2xl shadow-xl ring-1 ring-slate-100 p-8 md:p-10"
    >
      <div class="flex flex-col items-center text-center">
        <div
          class="h-16 w-16 rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 text-white grid place-items-center shadow-lg"
        >
          <span class="text-2xl">üîí</span>
        </div>

        <h1
          class="mt-5 text-2xl md:text-3xl font-extrabold tracking-tight text-slate-900"
        >
          Forgot Password
        </h1>
        <p class="mt-2 text-sm md:text-base text-slate-600">
          Enter your email and we will redirect you to a link to reset your password
        </p>
      </div>

      <form
        [formGroup]="forgotForm"
        class="mt-8 space-y-6"
        (ngSubmit)="onSubmitForm()"
        novalidate
      >
        <div>
          <label
            for="mail"
            class="block text-sm font-medium text-slate-700 mb-2"
          >
            Email
          </label>
          <div class="relative">
            <input
              type="email"
              name="mail"
              id="mail"
              placeholder="you@example.com"
              formControlName="email"
              autocomplete="email"
              class="w-full rounded-xl border border-slate-300 bg-white px-4 py-3 text-sm text-slate-900 placeholder-slate-400 shadow-sm focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition [ngClass] : { 'border-red-400 focus:border-red-500 focus:ring-red-100': (email?.invalid && email?.touched) || userNotFound, 'border-green-400 focus:border-green-500 focus:ring-green-100': email?.valid && !userNotFound }"
            />
          </div>

          @if (forgotForm.value.email?.invalid && forgotForm.value.email?.touched) {
          <p class="mt-2 text-sm text-red-600 space-y-0.5">
            @if(forgotForm.value.email?.errors?.['required']){ <span>Email is required.</span> }
            @if(forgotForm.value.email?.errors?.['email']){
            <span>Please enter a valid email.</span> }
          </p>
          } @if (userNotFound) {
          <p class="mt-2 text-sm text-red-600">
            No user was found with this email address.
          </p>
          }
        </div>

        <button
          [disabled]="isLoading"
          type="submit"
          class="w-full inline-flex items-center justify-center gap-2 rounded-xl bg-blue-600 text-white font-semibold py-3 shadow-lg shadow-blue-600/20 hover:bg-blue-700 active:bg-blue-800 disabled:bg-slate-300 disabled:text-slate-600 disabled:shadow-none transition"
        >
          {{ isLoading ? "Searching..." : "Submit" }}
        </button>
      </form>

      <div class="mt-8">
        <button
          type="button"
          (click)="backToLogin()"
          class="w-full inline-flex items-center justify-center gap-2 text-sm font-medium text-slate-700 hover:text-slate-900 px-4 py-2 rounded-lg hover:bg-slate-100 transition"
          aria-label="Back to Login"
        >
          <span class="text-lg">‚Üê</span>
          <span>Back to Login</span>
        </button>
      </div>
    </div>
  </div>
</div>
